{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///home/keem/Escritorio/Cloud_Proyecto/Proyecto-Cloud/web/src/hooks/Connection.js"],"sourcesContent":["const URL_ACCOUNT = process.env.API_ACCOUNT_SERVICE;\nconst URL_SENSOR = process.env.API_SENSOR_SERVICE;\n\nimport axios from 'axios';\n\n// Metodo POST\nexport const POST_SE = async (resource, data, token = \"NONE\") => {\n    let headers = {\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json\"\n        }\n    }\n    if (token != \"NONE\") {\n        headers = {\n            headers: {\n                \"Accept\": \"application/json\",\n                \"X-Access-Token\": token\n            }\n        }\n    }\n    return await axios.post(URL_SENSOR + resource, data, headers)\n}\n\nexport const POST_AC = async (resource, data, token = \"NONE\") => {\n    let headers = {\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json\"\n        }\n    }\n    if (token != \"NONE\") {\n        headers = {\n            headers: {\n                \"Accept\": \"application/json\",\n                \"X-Access-Token\": token\n            }\n        }\n    }\n    return await axios.post(URL_ACCOUNT + resource, data, headers)\n}\n\n// Metodo GET\nexport const GET_SE = async (resource, token = \"NONE\") => {\n    let headers = {\n        headers: {\n            \"Accept\": \"application/json\",\n        }\n    }\n    if (token != \"NONE\") {\n        headers = {\n            headers: {\n                \"Accept\": \"application/json\",\n                \"X-Access-Token\": token,\n            }\n        }\n    }\n    return await axios.get(URL_SENSOR + resource, headers);\n}\n\nexport const GET_AC = async (resource, token = \"NONE\") => {\n    let headers = {\n        headers: {\n            \"Accept\": \"application/json\",\n        }\n    }\n    if (token != \"NONE\") {\n        headers = {\n            headers: {\n                \"Accept\": \"application/json\",\n                \"X-Access-Token\": token,\n            }\n        }\n    }\n    return await axios.get(URL_ACCOUNT + resource, headers);\n}"],"names":[],"mappings":";;;;;;AAGA;AAHA,MAAM;AACN,MAAM,aAAa,QAAQ,GAAG,CAAC,kBAAkB;;AAK1C,MAAM,UAAU,OAAO,UAAU,MAAM,QAAQ,MAAM;IACxD,IAAI,UAAU;QACV,SAAS;YACL,UAAU;YACV,gBAAgB;QACpB;IACJ;IACA,IAAI,SAAS,QAAQ;QACjB,UAAU;YACN,SAAS;gBACL,UAAU;gBACV,kBAAkB;YACtB;QACJ;IACJ;IACA,OAAO,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,aAAa,UAAU,MAAM;AACzD;AAEO,MAAM,UAAU,OAAO,UAAU,MAAM,QAAQ,MAAM;IACxD,IAAI,UAAU;QACV,SAAS;YACL,UAAU;YACV,gBAAgB;QACpB;IACJ;IACA,IAAI,SAAS,QAAQ;QACjB,UAAU;YACN,SAAS;gBACL,UAAU;gBACV,kBAAkB;YACtB;QACJ;IACJ;IACA,OAAO,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,cAAc,UAAU,MAAM;AAC1D;AAGO,MAAM,SAAS,OAAO,UAAU,QAAQ,MAAM;IACjD,IAAI,UAAU;QACV,SAAS;YACL,UAAU;QACd;IACJ;IACA,IAAI,SAAS,QAAQ;QACjB,UAAU;YACN,SAAS;gBACL,UAAU;gBACV,kBAAkB;YACtB;QACJ;IACJ;IACA,OAAO,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,aAAa,UAAU;AAClD;AAEO,MAAM,SAAS,OAAO,UAAU,QAAQ,MAAM;IACjD,IAAI,UAAU;QACV,SAAS;YACL,UAAU;QACd;IACJ;IACA,IAAI,SAAS,QAAQ;QACjB,UAAU;YACN,SAAS;gBACL,UAAU;gBACV,kBAAkB;YACtB;QACJ;IACJ;IACA,OAAO,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,cAAc,UAAU;AACnD"}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["file:///home/keem/Escritorio/Cloud_Proyecto/Proyecto-Cloud/web/src/hooks/service_person.js"],"sourcesContent":["import {GET_AC, POST_AC} from \"./Connection\";\n\nexport async function list_persons(token) {\n    let datos = null;\n    try{\n        datos = await GET_AC('person', token);\n    }\n    catch(error){\n        return error;\n    }\n    return datos.data\n}\n\nexport async function save_person(data, token) {\n    let datos = null;\n    try {\n        datos = await POST_AC(\"person/save\", data, token);\n        \n    } catch (error) {\n        return error;\n\n    }\n    return datos.data;\n}\n\nexport async function search_person(external, token){\n    let datos = null;\n    try{\n        datos = await GET_AC('person/search/uid/'+external, token);\n    }\n    catch(error){\n        return error;\n    }\n    return datos.data\n}\n\n\n\nexport async function modify_person(data, token){\n    let datos = null;\n    try{\n        datos = await POST_AC('/person/modify', data, token);\n    }\n    catch(error){\n        return error;\n    }\n    return datos.data\n}\n\nexport async function modify_person_email(data, token){\n    let datos = null;\n    try{\n        datos = await POST_AC('/person/modify/email', data, token);\n    }\n    catch(error){\n        return error;\n    }\n    return datos.data\n}\n\nexport async function modify_status(data, token){\n    let datos = null;\n    try{\n        datos = await POST_AC('/person/change_state', data, token);\n    }\n    catch(error){\n        return error;\n    }\n    return datos.data\n}"],"names":[],"mappings":";;;;;;;;AAAA;;AAEO,eAAe,aAAa,KAAK;IACpC,IAAI,QAAQ;IACZ,IAAG;QACC,QAAQ,MAAM,CAAA,GAAA,0HAAA,CAAA,SAAM,AAAD,EAAE,UAAU;IACnC,EACA,OAAM,OAAM;QACR,OAAO;IACX;IACA,OAAO,MAAM,IAAI;AACrB;AAEO,eAAe,YAAY,IAAI,EAAE,KAAK;IACzC,IAAI,QAAQ;IACZ,IAAI;QACA,QAAQ,MAAM,CAAA,GAAA,0HAAA,CAAA,UAAO,AAAD,EAAE,eAAe,MAAM;IAE/C,EAAE,OAAO,OAAO;QACZ,OAAO;IAEX;IACA,OAAO,MAAM,IAAI;AACrB;AAEO,eAAe,cAAc,QAAQ,EAAE,KAAK;IAC/C,IAAI,QAAQ;IACZ,IAAG;QACC,QAAQ,MAAM,CAAA,GAAA,0HAAA,CAAA,SAAM,AAAD,EAAE,uBAAqB,UAAU;IACxD,EACA,OAAM,OAAM;QACR,OAAO;IACX;IACA,OAAO,MAAM,IAAI;AACrB;AAIO,eAAe,cAAc,IAAI,EAAE,KAAK;IAC3C,IAAI,QAAQ;IACZ,IAAG;QACC,QAAQ,MAAM,CAAA,GAAA,0HAAA,CAAA,UAAO,AAAD,EAAE,kBAAkB,MAAM;IAClD,EACA,OAAM,OAAM;QACR,OAAO;IACX;IACA,OAAO,MAAM,IAAI;AACrB;AAEO,eAAe,oBAAoB,IAAI,EAAE,KAAK;IACjD,IAAI,QAAQ;IACZ,IAAG;QACC,QAAQ,MAAM,CAAA,GAAA,0HAAA,CAAA,UAAO,AAAD,EAAE,wBAAwB,MAAM;IACxD,EACA,OAAM,OAAM;QACR,OAAO;IACX;IACA,OAAO,MAAM,IAAI;AACrB;AAEO,eAAe,cAAc,IAAI,EAAE,KAAK;IAC3C,IAAI,QAAQ;IACZ,IAAG;QACC,QAAQ,MAAM,CAAA,GAAA,0HAAA,CAAA,UAAO,AAAD,EAAE,wBAAwB,MAAM;IACxD,EACA,OAAM,OAAM;QACR,OAAO;IACX;IACA,OAAO,MAAM,IAAI;AACrB"}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file:///home/keem/Escritorio/Cloud_Proyecto/Proyecto-Cloud/web/src/app/person/page.jsx"],"sourcesContent":["\"use client\";\nimport Link from \"next/link\";\nimport { list_persons, modify_status } from \"../../hooks/service_person\";\n\nimport Cookies from \"js-cookie\";\nimport { useState, useEffect } from \"react\";\nimport swal from \"sweetalert\";\n\nimport { useRouter } from \"next/navigation\";\nimport HeaderMenu from \"../../components/HeaderMenu\";\nimport UserSidebar from \"../../components/UserSidebar\";\n\nexport default function Person() {\n  const router = useRouter();\n  const [persons, setPersons] = useState(null);\n  const [isLoggedIn, setIsLoggedIn] = useState(true);\n  const token = Cookies.get(\"token\");\n\n  useEffect(() => {\n    if (!token) {\n      setIsLoggedIn(false);\n      return;\n    }\n\n    list_persons(token)\n      .then((info) => {\n        if (info.code === 200) {\n          setPersons(info.datos);\n        } else {\n          setIsLoggedIn(false);\n        }\n      })\n      .catch(() => {\n        setIsLoggedIn(false);\n      });\n  }, []);\n\n  const format_fecha = (fecha) => {\n    const date = new Date(fecha);\n    const day = String(date.getDate()).padStart(2, \"0\");\n    const month = String(date.getMonth() + 1).padStart(2, \"0\");\n    const year = date.getFullYear();\n    return `${day}/${month}/${year}`;\n  };\n\n  if (!isLoggedIn) {\n    swal({\n      title: \"Error\",\n      text: \"Vuelva a Iniciar Sesion\",\n      icon: \"error\",\n      button: \"Accept\",\n      timer: 8000,\n      closeOnEsc: true,\n    });\n    Cookies.remove(\"token\");\n    Cookies.remove(\"user\");\n    router.push(\"/session\");\n    return null;\n  }\n\n  const handleStatusChange = async (person_uid) => {\n    const data = { external: person_uid };\n    modify_status(data, token).then((info) => {\n      if (info.code === 200) {\n        swal({\n          title: \"AcciÃ³n Satisfactoria\",\n          text: \"Estado actualizado\",\n          icon: \"success\",\n          button: \"Accept\",\n          timer: 8000,\n          closeOnEsc: true,\n        }).then(() => {\n          window.location.reload();\n        });\n      } else {\n        swal({\n          title: \"Error\",\n          text: info.response.request.statusText,\n          icon: \"error\",\n          button: \"Aceptar\",\n          timer: 8000,\n          closeOnEsc: true,\n        }).then(() => {\n          window.location.reload();\n        });\n        console.log(\"No se pudo actualizar\");\n      }\n    });\n  };\n\n  return (\n    <div className=\"h-screen flex\">\n      <HeaderMenu />\n\n      <main className=\"flex-1 flex\">\n        <UserSidebar />\n        <div className=\"flex-1 py-6 sm:ml-64\">\n          <div className=\"py-4 px-10 rounded-lg mt-14\">\n\n            <div className=\"flex justify-between\">\n              <h1 className=\"font-semibold text-2xl\">Cuentas</h1>\n              <Link\n                href=\"/person/new\"\n                className=\"py-1 px-3 rounded-lg bg-blue-500 text-white text-sm content-center\"\n              >\n                Agregar Cuenta\n              </Link>\n            </div>\n\n            <div className=\"my-8\">\n              <table className=\"w-full\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"p-3 text-sm text-gray-500 font-semibold tracking-wide text-left\">\n                      Nro\n                    </th>\n                    <th className=\"p-3 text-sm text-gray-500 font-semibold tracking-wide text-left\">\n                      Dni\n                    </th>\n                    <th className=\"p-3 text-sm text-gray-500 font-semibold tracking-wide text-left\">\n                      Nombre\n                    </th>\n                    <th className=\"p-3 text-sm text-gray-500 font-semibold tracking-wide text-left\">\n                      Apellido\n                    </th>\n                    <th className=\"p-3 text-sm text-gray-500 font-semibold tracking-wide text-left\">\n                      Correo\n                    </th>\n                    <th className=\"p-3 text-sm text-gray-500 font-semibold tracking-wide text-left\">\n                      Creado en\n                    </th>\n                    <th className=\"p-3 text-sm text-gray-500 font-semibold tracking-wide text-left\">\n                      Estado\n                    </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {persons &&\n                    persons.map((person, index) => (\n                      <tr key={index}>\n                        <td className=\"p-3 text-sm text-gray-700 \">\n                          {index + 1}\n                        </td>\n\n                        <td className=\"p-3 text-sm text-gray-700 \">\n                          {person.dni}\n                        </td>\n                        <td className=\"p-3 text-sm text-gray-700 \">\n                          {person.name}\n                        </td>\n                        <td className=\"p-3 text-sm text-gray-700 \">\n                          {person.last_name}\n                        </td>\n                        <td className=\"p-3 text-sm text-gray-700 \">\n                          {person.email}\n                        </td>\n                        <td className=\"p-3 text-sm text-gray-700 \">\n                          {format_fecha(person.created_at)}\n                        </td>\n                        <td className=\"p-3 text-sm text-gray-700 pl-8\">\n                          <input\n                            type=\"checkbox\"\n                            checked={person.status}\n                            onChange={(e) =>\n                              handleStatusChange(person.uid, e.target.checked)\n                            }\n                          />\n                        </td>\n                      </tr>\n                    ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 625, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}